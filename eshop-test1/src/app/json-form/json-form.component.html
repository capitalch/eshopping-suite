<form [formGroup]="myForm" (ngSubmit)="submit()" novalidate>
  <div [ngClass]="layout.id" *ngFor="let layout of layouts">
    <ng-container [ngSwitch]="layout.type">

      <ng-container *ngSwitchCase="'text'">
        <ng-container>
          <label [for]="layout.id">{{layout.label}}:</label>
          <input [type]="layout.type" [id]="layout.id" [placeholder]="layout.placeholder" [formControlName]="layout.id">
          <ng-container *ngIf="checkError(layout)" style="display:inline">
            <ul style="display:inline">
              <li style="float:right;padding-right:30px;" *ngFor="let message of getErrorMessages(layout)">
                {{message}}
              </li>
            </ul>
            <div style="clear:left"></div>
          </ng-container>
        </ng-container>
      </ng-container>

      <ng-container *ngSwitchCase="'checkbox'">
        <ng-container>
          <input type="checkbox" [id]="layout.id" [formControlName]="layout.id" [value]="layout.value">
          <label [for]="layout.id">{{layout.label}}:</label>
        </ng-container>
      </ng-container>

      <fieldset *ngSwitchCase="'checkboxGroup'">
        <legend>{{layout.label}}</legend>
        <ng-container *ngIf="checkError(layout)" style="display:inline">
          <ul style="display:inline">
            <li style="float:right;padding-right:30px;" *ngFor="let message of getErrorMessages(layout)">
              {{message}}
            </li>
          </ul>
          <div style="clear:left"></div>
        </ng-container>
        <ng-container [formGroupName]="layout.id">
          <ng-container *ngFor="let option of layout.options">
            <input type="checkbox" [id]="option.id" [formControlName]="option.id">
            <label [for]="option.id">{{option.label}}:</label>
          </ng-container>
        </ng-container>
      </fieldset>

      <ng-container *ngSwitchCase="'radio'">
        <fieldset>
          <legend>{{layout.label}}</legend>
          <ng-container *ngFor="let option of layout.options">
            <input type="radio" [id]="option.id" [formControlName]="layout.id" [value]="option.value" [name]="layout.id">
            <label [for]="option.id">{{option.label}}</label>
          </ng-container>
        </fieldset>
      </ng-container>

      <ng-container *ngSwitchCase="'select'">
        <p>{{layout.label}}</p>
        <ng-container *ngIf="checkError(layout)" style="display:inline">
          <ul style="display:inline">
            <li style="float:right;padding-right:30px;" *ngFor="let message of getErrorMessages(layout)">
              {{message}}
            </li>
          </ul>
          <div style="clear:left"></div>
        </ng-container>
        <select [formControlName]="layout.id">
          <option *ngFor="let option of layout.options" [value]="option.value" [label]="option.label">
          </option>
        </select>
      </ng-container>
    </ng-container>
  </div>
  <button [ngClass]="config.submitClass" type="submit" >Submit</button>
</form>
